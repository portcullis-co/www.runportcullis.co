---
import { Input } from '@/components/ui/input';
import { Button } from '@/components/ui/button';
import { toast } from "sonner"; // For toasts
import MainLayout from "@/layouts/main-layout.astro";
---

<MainLayout
  title="Waitlist"
  description="A waiting list page with a simple form."
  mainClass="bg-background-200"
>
  <div class="relative flex flex-col items-center justify-center w-full min-h-screen bg-background-200">
    <div class="bg-background border rounded-xl p-6 md:p-8 w-full max-w-4xl mx-auto">
      <h1 class="text-2xl md:text-3xl font-bold text-center text-gray-900">
        Tell us about your project
      </h1>
      <p class="text-center text-gray-600 mt-2">
        Fill out the form below to connect with us and talk more.
      </p>
      
      <!-- Calendar Embed -->
      <div id="my-cal-inline" class="mt-6 max-h-[500px] overflow-auto"></div>
      
      <script type="text/javascript">
        (function (C, A, L) {
          let p = function (a, ar) { a.q.push(ar); };
          let d = C.document;
          C.Cal = C.Cal || function () {
            let cal = C.Cal;
            let ar = arguments;
            if (!cal.loaded) {
              cal.ns = {};
              cal.q = cal.q || [];
              d.head.appendChild(d.createElement("script")).src = A;
              cal.loaded = true;
            }
            if (ar[0] === L) {
              const api = function () { p(api, arguments); };
              const namespace = ar[1];
              api.q = api.q || [];
              if (typeof namespace === "string") {
                cal.ns[namespace] = cal.ns[namespace] || api;
                p(cal.ns[namespace], ar);
                p(cal, ["initNamespace", namespace]);
              } else p(cal, ar);
              return;
            }
            p(cal, ar);
          };
        })(window, "https://app.cal.com/embed/embed.js", "init");

        Cal("init", "intro-call", { origin: "https://cal.com" });
        Cal.ns["intro-call"]("inline", {
          elementOrSelector: "#my-cal-inline",
          config: { layout: "month_view", theme: "light" },
          calLink: "team/portcullis/intro-call",
        });
      </script>
    </div>
  </div>
</MainLayout>
